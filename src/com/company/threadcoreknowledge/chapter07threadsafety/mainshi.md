线程安全:
1. 什么是线程安全:
    - 多个线程访问同一个对象时，如果不用考虑这些线程在运行时环境下的调度和交替执行，也不需要进行额外的同步，
    或者在调用方进行任何其他操作，**调用这个对象的行为都可以获得正确的结果**，那么这个对象就是线程安全的。
    
2. 一些容易发生线程安全问题的场景:
    - 访问共享的变量或资源(最典型的: number ++)
    - 所有依赖时序的操作(死锁，对象初始化/发布问题)
    - 不同数据之间存在捆绑关系(ip + port)
    
3. 多线程带来的性能问题:
    - 上下文切换:
        - 当线程数多于CPU核时，CPU在调度线程时，会有上下文切换的问题
        - 上下文切换要保存线程执行的环境，比较耗时
        - 线程切换之后，会有缓存失效的问题
        - 当有大量的IO操作或是线程之间会频繁竞争锁时，会带来频繁切换上下文的问题
    - 内存同步: 为了数据的正确性，同步手段往往会使用禁止编译器优化，使CPU内的缓存失效

4. 一些API的使用:
    - Atomic原子相关类
    - CyclicBarrier的使用
        - 初始化传入整型，设置需要等待的线程数(可以近似看作Go中的Group)
    